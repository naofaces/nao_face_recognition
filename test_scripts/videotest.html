<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>bla</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<script type="text/javascript" src="http://nao:nao@169.254.66.118/libs/qimessaging/1.0/qimessaging.js"></script>
</head>
<body>
<body onload = "connect()">
<input type="button" onclick= "speak()" value = "speak"/>
        <input type = "button" onclick = "openCamera()" value = "open"/>
        <video id = "video" autoplay = "" width = "320px" height = "240px"></video>

<h1>Hallllooooo</h1>

<script>
console.log("executing script");
    var textToSpeech;
    var session;
    var imge;
    var videoCam;
    function connect()
    {
    console.log("in connect");
      session = new QiSession("169.254.66.118");
      console.log(session);
      session.socket().on('connect', function ()
      {
        console.log("QiSession connected!");
      }).on('disconnect', function(){
        console.log("QiSession disconnect");
      });
    }

    function speak()
    {console.log("in speak");
      session.service("ALTextToSpeech").done(function(tts)
      {
        tts.say("hello world!");
      });
    }
/**
    function openCamera()
    {
    console.log("in open camera");
        session.service("ALVideoDevice").done(function(video)
        {

            var handle = video.subscribeCamera("Vision", 0, 0, 3,10);
            imge  = video.getImageRemote(handle);
            videoCam = document.getElementById("video");
            //videoCam.src = ;
            //how to deal with the imge ???
        });
    }
    */


</script>
</body>
</html>